<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Staff Events â€¢ Wheel Controller</title>

  <!-- Use your existing staff CSS (adjust if your path differs) -->
  <link rel="stylesheet" href="style.css" />

  <style>
    /* Small safe extras so it looks clean even if style.css differs */
    .container { max-width: 1100px; margin: 0 auto; padding: 16px; }
    .panel { background: rgba(0,0,0,.35); border: 1px solid rgba(255,255,255,.08); border-radius: 16px; overflow: hidden; }
    .panelHead { display:flex; justify-content:space-between; align-items:center; gap:12px; padding: 14px 16px; border-bottom: 1px solid rgba(255,255,255,.08); }
    .panelTitle { font-size: 16px; font-weight: 700; letter-spacing: .3px; }
    .mutedSmall { opacity:.7; font-size: 12px; }
    .panelBody { padding: 16px; }
    .card { background: rgba(0,0,0,.35); border: 1px solid rgba(255,255,255,.08); border-radius: 16px; }
    .cardPad { padding: 12px; }
    .grid2 { display:grid; grid-template-columns: 1fr 1fr; gap: 12px; align-items:start; }
    .grid3 { display:grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; align-items:start; }
    .input, .select, textarea { width: 100%; padding: 10px; border-radius: 12px; border: 1px solid rgba(255,255,255,.12); background: rgba(0,0,0,.35); color: #fff; outline: none; }
    textarea { resize: vertical; min-height: 140px; }
    .btnRow { display:flex; gap: 8px; flex-wrap: wrap; align-items:center; }
    .btn { padding: 10px 14px; border-radius: 12px; border: 1px solid rgba(255,255,255,.14); background: rgba(255,255,255,.08); color: #fff; cursor:pointer; }
    .btn:hover { background: rgba(255,255,255,.12); }
    .btn.primary { background: rgba(255,215,0,.18); border-color: rgba(255,215,0,.35); }
    .btn.ghost { background: transparent; }
    .btn.danger { background: rgba(255,0,0,.12); border-color: rgba(255,0,0,.35); }
    .label { display:block; margin-top:10px; margin-bottom:6px; font-size: 12px; opacity:.75; }
    .hr { height:1px; background: rgba(255,255,255,.08); margin: 12px 0; }
  </style>
</head>

<body>
  <div class="container">

    <section class="panel" id="wheelControllerPanel">
      <div class="panelHead">
        <div>
          <div class="panelTitle">Wheel Controller</div>
          <div class="mutedSmall">Edit prizes + customer names, choose winner, trigger spin/reveal for the live preview.</div>
        </div>

        <div class="btnRow">
          <button class="btn ghost" id="btnWheelLoad" type="button">Load</button>
          <button class="btn ghost" id="btnWheelSave" type="button">Save</button>
          <button class="btn danger" id="btnWheelReset" type="button">Reset</button>
        </div>
      </div>

      <div class="panelBody">
        <div class="grid2">

          <!-- LEFT: Prizes -->
          <div class="card cardPad">
            <div class="panelTitle" style="font-size:14px;">Prizes (editable)</div>
            <div class="mutedSmall">One per line. Optional weight: <b>Prize Name | weight</b></div>

            <label class="label" for="wheelPrizesText">Prizes list</label>
            <textarea id="wheelPrizesText" placeholder="FREE VACATION | 1
IPHONE 15 | 2
CASH $100 | 5
TRY AGAIN | 10"></textarea>

            <div class="btnRow" style="margin-top:10px;">
              <button class="btn" id="btnWheelApplyPrizes" type="button">Apply Prizes</button>
              <button class="btn ghost" id="btnWheelPickRandomPrize" type="button">Pick Random Prize</button>
            </div>
          </div>

          <!-- RIGHT: Customers + Winner -->
          <div class="card cardPad">
            <div class="panelTitle" style="font-size:14px;">Customers (editable)</div>
            <div class="mutedSmall">One customer per line. These names will be used for winner selection.</div>

            <label class="label" for="wheelCustomersText">Customer names</label>
            <textarea id="wheelCustomersText" placeholder="ABDUL
JASON
MICHELLE
DAVID"></textarea>

            <div class="btnRow" style="margin-top:10px;">
              <button class="btn" id="btnWheelApplyCustomers" type="button">Apply Customers</button>
              <button class="btn ghost" id="btnWheelPickRandomCustomer" type="button">Pick Random Customer</button>
            </div>

            <div class="hr"></div>

            <div class="panelTitle" style="font-size:14px;">Winner + Spin</div>

            <label class="label" for="wheelWinningPrize">Winning prize</label>
            <select id="wheelWinningPrize" class="select"></select>

            <label class="label" for="wheelWinnerName">Winner name (editable)</label>
            <input id="wheelWinnerName" class="input" type="text" placeholder="e.g., ABDUL" />

            <div class="grid3" style="margin-top:10px;">
              <div>
                <label class="label" for="wheelSpinMs">Spin duration (ms)</label>
                <input id="wheelSpinMs" class="input" type="number" min="1000" step="250" value="5000" />
              </div>
              <div>
                <label class="label" for="wheelDecel">Deceleration</label>
                <input id="wheelDecel" class="input" type="number" min="1" step="1" value="8" />
              </div>
              <div>
                <label class="label" for="wheelMinRot">Min rotations</label>
                <input id="wheelMinRot" class="input" type="number" min="3" step="1" value="5" />
              </div>
            </div>

            <div class="btnRow" style="margin-top:12px;">
              <button class="btn primary" id="btnWheelSpinNow" type="button">Spin Now</button>
              <button class="btn" id="btnWheelRevealWinner" type="button">Reveal Winner</button>
              <button class="btn ghost" id="btnWheelHideWinner" type="button">Hide Winner</button>
            </div>

            <div id="wheelCtrlMsg" class="mutedSmall" style="margin-top:10px;"></div>

          </div>
        </div>

        <div class="hr"></div>

        <div class="mutedSmall">
          Tip: Open the live preview page in another tab/device. When you click <b>Spin Now</b> or <b>Reveal Winner</b>,
          the preview will update instantly because it reads the same localStorage key.
        </div>

      </div>
    </section>

  </div>

  <!-- Wheel controller logic -->
  <script src=".js/api.js"></script> 
  <script src="./js/staffevents.js"></script>
</body>
</html>
